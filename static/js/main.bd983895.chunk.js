(this["webpackJsonpslack-clone"]=this["webpackJsonpslack-clone"]||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(30),s=c.n(a),i=(c(80),c(15)),r=c(119),o=(c(81),c(56)),l=c.n(o),j=c(57),d=c.n(j),u=c(58),h=c.n(u),b=c(3),m=Object(n.createContext)(),O=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(b.jsx)(m.Provider,{value:Object(n.useReducer)(t,c),children:a})},p=function(){return Object(n.useContext)(m)};var x=function(){var e=p(),t=Object(i.a)(e,1)[0].user;return Object(b.jsxs)("div",{className:"header",children:[Object(b.jsxs)("div",{className:"header-left",children:[Object(b.jsx)(r.a,{className:"header-avatar",alt:null===t||void 0===t?void 0:t.displayName,src:null===t||void 0===t?void 0:t.photoURL}),Object(b.jsx)(l.a,{})]}),Object(b.jsxs)("div",{className:"header-search",children:[Object(b.jsx)(d.a,{}),Object(b.jsx)("input",{placeholder:"search"})]}),Object(b.jsx)("div",{className:"header-right",children:Object(b.jsx)(h.a,{})})]})},v=(c(88),c(89),c(67)),f=c.n(v),g=c(68),N=c.n(g),I=c(69),S=c.n(I),C=c(47),y=c.n(C),k=c(10),w=c(44),D=(c(90),c(91),c(92),w.a.initializeApp({apiKey:"AIzaSyCq7pOWGXxtQdQfZMj2oOKWQlXe9MvLnJ8",authDomain:"clone-project-sujay.firebaseapp.com",projectId:"clone-project-sujay",storageBucket:"clone-project-sujay.appspot.com",messagingSenderId:"419718453701",appId:"1:419718453701:web:513af44e87860a5e9153ac"})),P=D.auth(),E=D.firestore(),F=(D.storage(),new w.a.auth.GoogleAuthProvider);c(93);var R=function(e){var t=e.Icon,c=void 0===t?null:t,n=e.title,a=e.id,s=void 0===a?null:a,i=e.addChanneloption,r=void 0===i?null:i,o=Object(k.f)();return Object(b.jsxs)("div",{className:"sidebarOption",onClick:r?function(){var e=prompt("Please enter ChannelName");e&&E.collection("rooms").add({name:e})}:function(){s?o.push("/room/".concat(s)):o.push(n)},children:[c&&Object(b.jsx)(c,{className:"sidebarOption-icon"}),c?Object(b.jsx)("h3",{children:n}):Object(b.jsxs)("h3",{className:"sidebarOption-channel",children:[Object(b.jsx)("span",{className:"sidebarOption-hash",children:"#"})," ",n]})]})},T=c(59),A=c.n(T),B=c(60),L=c.n(B),G=c(61),M=c.n(G),U=c(62),W=c.n(U),J=c(63),Q=c.n(J),z=c(64),K=c.n(z),X=c(65),q=c.n(X),V=c(66),Z=c.n(V),_=[{Icon:A.a,title:"Thread"},{Icon:L.a,title:"Mentions & Reactions"},{Icon:M.a,title:"Saved items"},{Icon:W.a,title:"Channel browser"},{Icon:Q.a,title:"People & Groups"},{Icon:K.a,title:"Apps"},{Icon:q.a,title:"File Browser"},{Icon:Z.a,title:"Show less"}];var H=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=p(),r=Object(i.a)(s,1)[0].user;return Object(n.useEffect)((function(){E.collection("rooms").onSnapshot((function(e){return a(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(b.jsxs)("div",{className:"sidebar",children:[Object(b.jsxs)("div",{className:"sidebar-header",children:[Object(b.jsxs)("div",{className:"sidebar-info",children:[Object(b.jsx)("h2",{children:"Slack Clone"}),Object(b.jsxs)("h3",{children:[Object(b.jsx)(f.a,{className:""}),null===r||void 0===r?void 0:r.displayName]})]}),Object(b.jsx)(N.a,{})]}),_.map((function(e){return Object(b.jsx)(R,{Icon:e.Icon,title:e.title})})),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"channels",children:[Object(b.jsx)(R,{Icon:S.a,title:"Channels"}),Object(b.jsx)("div",{className:"add-channel",onClick:function(){var e=prompt("Please enter Channel Name");e&&E.collection("rooms").add({name:e})},children:Object(b.jsx)(y.a,{})})]}),Object(b.jsx)("hr",{}),c.map((function(e){return Object(b.jsx)(R,{id:e.id,title:e.name},e.id)})),Object(b.jsx)(R,{Icon:y.a,addChanneloption:!0,title:"Add Channel"})]})},Y=c(35),$=(c(97),c(70)),ee=c.n($),te=c(71),ce=c.n(te);c(98);var ne=function(e){var t=e.message,c=e.timestamp,n=e.user,a=e.userimage;return Object(b.jsxs)("div",{className:"message",children:[Object(b.jsx)("img",{src:a,alt:""}),Object(b.jsxs)("div",{className:"message-info",children:[Object(b.jsxs)("h4",{children:[n," ",Object(b.jsx)("span",{className:"message-timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(b.jsx)("p",{children:t})]})]})},ae=(c(99),c(72));var se=function(e){var t=e.channelName,c=e.channelId,a=Object(n.useState)(""),s=Object(i.a)(a,2),r=s[0],o=s[1],l=p(),j=Object(i.a)(l,1)[0].user;return Object(b.jsx)("div",{className:"chatInput",children:Object(b.jsxs)("form",{children:[Object(b.jsx)("input",{placeholder:"Message #".concat(t),value:r,onChange:function(e){return o(e.target.value)}}),Object(b.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),!c)return!1;E.collection("rooms").doc(c).collection("messages").add({message:r,timestamp:ae.a.firestore.FieldValue.serverTimestamp(),user:j.displayName,userImage:j.photoURL}),o("")},children:"SEND"})]})})};var ie=function(){var e=Object(k.g)().roomId,t=Object(n.useState)(null),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),l=o[0],j=o[1];return Object(n.useEffect)((function(){E.collection("rooms").doc(e).onSnapshot((function(e){return s(e.data())})),E.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return j(e.docs.map((function(e){return e.data()})))}))}),[e]),Object(b.jsxs)("div",{className:"chat",children:[Object(b.jsxs)("div",{className:"chat-header",children:[Object(b.jsx)("div",{className:"chat-headerleft",children:Object(b.jsxs)("h4",{className:"chat-channelName",children:[Object(b.jsxs)("strong",{children:["# ",null===a||void 0===a?void 0:a.name]}),Object(b.jsx)(ee.a,{})]})}),Object(b.jsx)("div",{className:"chat-headerRight",children:Object(b.jsxs)("p",{children:[Object(b.jsx)(ce.a,{})," Details"]})})]}),Object(b.jsx)("div",{className:"chat-messages",children:l.map((function(e){var t=e.message,c=e.timestamp,n=e.user,a=e.userImage;return Object(b.jsx)(ne,{message:t,timestamp:c,user:n,userimage:a})}))}),Object(b.jsx)(se,{channelName:null===a||void 0===a?void 0:a.name,channelId:e})]})},re=c(118),oe=(c(102),c(48)),le="SET_USER",je=function(e,t){switch(t.type){case le:return Object(oe.a)(Object(oe.a)({},e),{},{user:t.user});default:return e}};var de=function(){var e=p(),t=Object(i.a)(e,2),c=(t[0],t[1]);return Object(b.jsx)("div",{className:"login",children:Object(b.jsxs)("div",{className:"login-container",children:[Object(b.jsx)("img",{src:"http://assets.stickpng.com/images/5cb480cd5f1b6d3fbadece79.png",alt:""}),Object(b.jsx)("h1",{children:" Sign In to Slack"}),Object(b.jsx)("p",{children:" Developed by Sujay"}),Object(b.jsx)(re.a,{onClick:function(){P.signInWithPopup(F).then((function(e){console.log(e),c({type:le,user:e.user})})).catch((function(e){alert(e.message)}))},children:"Sign in with Google"})]})})};var ue=function(){var e=p(),t=Object(i.a)(e,2),c=t[0].user;return t[1],Object(b.jsx)("div",{children:Object(b.jsx)(Y.a,{children:c?Object(b.jsxs)(Y.a,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)("div",{className:"app-body",children:[Object(b.jsx)(H,{}),Object(b.jsxs)(k.c,{children:[Object(b.jsx)(k.a,{path:"/room/:roomId",children:Object(b.jsx)(ie,{})}),Object(b.jsx)(k.a,{exact:!0,path:"/",children:Object(b.jsx)("h1",{children:"Welcome"})})]})]})]}):Object(b.jsx)(de,{})})})},he=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,120)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};s.a.render(Object(b.jsx)(O,{initialState:{user:null},reducer:je,children:Object(b.jsx)(ue,{})}),document.getElementById("root")),he()},80:function(e,t,c){},81:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},93:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){},99:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.bd983895.chunk.js.map